{"ast":null,"code":"var _jsxFileName = \"D:\\\\VSCode\\\\VSCode 2.0\\\\Chat-Clone\\\\chat-clone\\\\src\\\\components\\\\Chat.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport { db } from '../firebase';\nimport Pesan from './Pesan';\nimport { query, collection, orderBy, onSnapshot } from 'firebase/firestore';\nimport SendPesan from './SendPesan';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst style = {\n  main: `flex flex-col p-[10px] relative`\n};\n\nconst Chat = () => {\n  _s();\n\n  const [pesan, setPesan] = useState([]);\n  const scroll = useRef();\n  useEffect(() => {\n    const q = query(collection(db, 'pesan'), orderBy('timestamp'));\n    const unsubscribe = onSnapshot(q, querySnapshot => {\n      let pesan = [];\n      querySnapshot.forEach(doc => {\n        pesan.push({ ...doc.data(),\n          id: doc.id\n        });\n      });\n      setPesan(pesan);\n    });\n    return () => unsubscribe();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"main\", {\n      className: style.main,\n      children: pesan && pesan.map(pesan => /*#__PURE__*/_jsxDEV(Pesan, {\n        pesan: pesan\n      }, pesan.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 67\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SendPesan, {\n      scroll: scroll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      ref: scroll\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Chat, \"hx2/XuEjteedE55KbMzPK35KwG8=\");\n\n_c = Chat;\nexport default Chat;\n\nvar _c;\n\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","useRef","db","Pesan","query","collection","orderBy","onSnapshot","SendPesan","style","main","Chat","pesan","setPesan","scroll","q","unsubscribe","querySnapshot","forEach","doc","push","data","id","map"],"sources":["D:/VSCode/VSCode 2.0/Chat-Clone/chat-clone/src/components/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { db } from '../firebase';\r\nimport Pesan from './Pesan';\r\nimport { query, collection, orderBy, onSnapshot } from 'firebase/firestore';\r\nimport SendPesan from './SendPesan';\r\n\r\nconst style = {\r\n  main: `flex flex-col p-[10px] relative`,\r\n};\r\n\r\nconst Chat = () => {\r\n  const [pesan, setPesan] = useState([]);\r\n  const scroll = useRef();\r\n\r\n  useEffect(() => {\r\n    const q = query(collection(db, 'pesan'), orderBy('timestamp'));\r\n    const unsubscribe = onSnapshot(q, (querySnapshot) => {\r\n      let pesan = [];\r\n      querySnapshot.forEach((doc) => {\r\n        pesan.push({ ...doc.data(), id: doc.id });\r\n      });\r\n      setPesan(pesan);\r\n    });\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <main className={style.main}>{pesan && pesan.map((pesan) => <Pesan key={pesan.id} pesan={pesan} />)}</main>\r\n      {/* Send Component */}\r\n      <SendPesan scroll={scroll} />\r\n      <span ref={scroll}></span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,MAArC,QAAmD,OAAnD;AACA,SAASC,EAAT,QAAmB,aAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,SAASC,KAAT,EAAgBC,UAAhB,EAA4BC,OAA5B,EAAqCC,UAArC,QAAuD,oBAAvD;AACA,OAAOC,SAAP,MAAsB,aAAtB;;;AAEA,MAAMC,KAAK,GAAG;EACZC,IAAI,EAAG;AADK,CAAd;;AAIA,MAAMC,IAAI,GAAG,MAAM;EAAA;;EACjB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBd,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAMe,MAAM,GAAGb,MAAM,EAArB;EAEAD,SAAS,CAAC,MAAM;IACd,MAAMe,CAAC,GAAGX,KAAK,CAACC,UAAU,CAACH,EAAD,EAAK,OAAL,CAAX,EAA0BI,OAAO,CAAC,WAAD,CAAjC,CAAf;IACA,MAAMU,WAAW,GAAGT,UAAU,CAACQ,CAAD,EAAKE,aAAD,IAAmB;MACnD,IAAIL,KAAK,GAAG,EAAZ;MACAK,aAAa,CAACC,OAAd,CAAuBC,GAAD,IAAS;QAC7BP,KAAK,CAACQ,IAAN,CAAW,EAAE,GAAGD,GAAG,CAACE,IAAJ,EAAL;UAAiBC,EAAE,EAAEH,GAAG,CAACG;QAAzB,CAAX;MACD,CAFD;MAGAT,QAAQ,CAACD,KAAD,CAAR;IACD,CAN6B,CAA9B;IAOA,OAAO,MAAMI,WAAW,EAAxB;EACD,CAVQ,EAUN,EAVM,CAAT;EAYA,oBACE;IAAA,wBACE;MAAM,SAAS,EAAEP,KAAK,CAACC,IAAvB;MAAA,UAA8BE,KAAK,IAAIA,KAAK,CAACW,GAAN,CAAWX,KAAD,iBAAW,QAAC,KAAD;QAAsB,KAAK,EAAEA;MAA7B,GAAYA,KAAK,CAACU,EAAlB;QAAA;QAAA;QAAA;MAAA,QAArB;IAAvC;MAAA;MAAA;MAAA;IAAA,QADF,eAGE,QAAC,SAAD;MAAW,MAAM,EAAER;IAAnB;MAAA;MAAA;MAAA;IAAA,QAHF,eAIE;MAAM,GAAG,EAAEA;IAAX;MAAA;MAAA;MAAA;IAAA,QAJF;EAAA,gBADF;AAQD,CAxBD;;GAAMH,I;;KAAAA,I;AA0BN,eAAeA,IAAf"},"metadata":{},"sourceType":"module"}